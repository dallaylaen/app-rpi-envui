<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>

 	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Flot Examples: Thresholds</title>
	<link href="css/graph.css" rel="stylesheet" type="text/css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

	<script language="javascript" type="text/javascript" src="js/flot.js"></script>
	<script language="javascript" type="text/javascript" src="js/flot.threshold.js"></script>
	<script type="text/javascript">

	$(document).ready(function(){
	    graph();

        function graph(){
            interval = 1 * 1000;
            setInterval(display_graphs, interval);
        };

        function display_graphs(){

            // temp graph

            var d1 = [];
            for (var i = 0; i <= 60; i += 1){
                d1.push([i, parseInt(Math.random() * 100 - 10)]);
            }

            $.plot($("#temp"), [{
                data: d1,
                threshold: {
                    below: 80,
                    color: "green"
                }
                }],
                {
                grid: {
                    hoverable: true,
                    borderWidth: 1,
                },
                colors: ["red"]
            });

             // humidity graph

            var d1 = [];
            for (var i = 0; i <= 60; i += 1){
                d1.push([i, parseInt(Math.random() * 100 - 10)]);
            }

            $.plot($("#humidity"), [{
                data: d1,
                threshold: {
                    below: 20,
                    color: "red"
                }
                }],
                {
                grid: {
                    hoverable: true,
                    borderWidth: 1,
                },
                colors: ["green"]
            });
        };
    });

	</script>
</head>
<body>

<div id="header">
    <h2>Real-time updates</h2>
</div>

<div id="content">

    <div class="demo-container">
        <div id="temp" class="demo-placeholder"></div>
        <div id="humidity" class="demo-placeholder"></div>
    </div>


</div>

<div id="footer">
    Copyright &copy; 2007 - 2014 IOLA and Ole Laursen
</div>

</body>
</html>
